# 03-01. Note

## 개요

Note는 콘텐츠 경험 과정 전체를 담는 개인 노트 시스템이다. 구획별 메모, 경험 스냅샷, 구조화 템플릿을 통해 단순한 결과가 아닌 과정을 기록한다. 기본 비공개로 온전히 나를 위한 기록.

---

## 핵심 기능

### 1. 구획별 기록

콘텐츠를 구획(챕터, 에피소드, 파트 등)으로 나누어 각 구획에 메모를 남긴다.

#### 구획 단위 (카테고리별)

| 카테고리 | 구획 단위 | 예시 |
|----------|-----------|------|
| 도서 | 챕터/장 | 1장, 2장, 프롤로그 |
| 영화 | 장면/파트 | 오프닝, 클라이맥스 |
| 드라마 | 에피소드 | E01, E02 |
| 애니메이션 | 에피소드 | E01, E02 |
| 게임 | 챕터/스테이지 | Chapter 1, Stage 3 |
| 공연 | 막/장 | 1막, 2막 |

#### 구획 속성

| 필드 | 설명 |
|------|------|
| 구획명 | 사용자 정의 (예: "1장. 어둠의 군주의 상승") |
| 완료 여부 | 체크박스 (진행률 연동) |
| 메모 | 자유 서술 텍스트 |

#### 구획 관리

- 구획 추가: 사용자가 자유롭게 추가
- 구획 순서: 드래그로 재정렬 가능
- 구획 삭제: 삭제 시 해당 메모도 삭제

#### 진행률 연동

```
진행률 = (완료된 구획 수 / 전체 구획 수) × 100
```

콘텐츠 매니저의 진행률과 자동 동기화.

---

### 2. 경험 스냅샷

감상 당시의 맥락을 태그로 기록한다.

#### 스냅샷 항목

| 항목 | 기본 옵션 | 직접 입력 |
|------|-----------|-----------|
| 언제 | 🌅 아침, ☀️ 점심, 🌆 저녁, 🌙 밤, 🌃 새벽 | 가능 |
| 어디서 | 🏠 집, ☕ 카페, 📚 도서관, 🚇 이동 중 | 가능 |
| 누구와 | 👤 혼자, 👥 친구와, 👨‍👩‍👧 가족과 | 가능 |
| 계기 | 💬 추천받음, 🔍 검색, ✨ 우연히 | 가능 |

#### 표시 형식

선택된 옵션이 한 줄로 시각화:
```
🌙 밤 · 🏠 집 · 👤 혼자 · 💬 추천받음
```

#### 다중 선택

- 각 항목당 1개 선택 (단일 선택)
- 직접 입력 시 기본 옵션 선택 해제

---

### 3. 구조화 템플릿

깊이 있는 기록을 위한 가이드 질문. 각 항목을 개별적으로 활성화하여 사용.

#### 템플릿 항목

| 항목 | 가이드 질문 |
|------|-------------|
| 3줄 요약 | 작품을 3줄로 요약해보세요 |
| 작품의 질문 vs 내 질문 | 작품이 던지는 질문과 내가 갖게 된 질문 |
| 강렬했던 순간 | 가장 인상 깊었던 장면이나 순간 |
| 인용구 | 기억하고 싶은 문장이나 대사 |
| 작품 전후 나의 변화 | 작품을 경험하기 전과 후, 달라진 점 |

#### UI 동작

- 기본 상태: 항목 제목만 표시 (접힌 상태)
- 클릭 시: 해당 항목 펼쳐지며 입력 영역 표시
- 개별 활성화: 필요한 항목만 선택적으로 사용

---

## 공개 설정

| 옵션 | 설명 |
|------|------|
| 비공개 (기본) | 나만 볼 수 있음 |
| 팔로워 공개 | 나를 팔로우한 유저에게 공개 |
| 전체 공개 | 모든 유저에게 공개 |

Note는 기본적으로 개인 기록이므로 **비공개가 기본값**.

---

## 작성 규칙

### 작성 조건
- 콘텐츠가 기록관에 추가되어 있어야 함
- 상태 무관 (감상중/완료/중단 모두 가능)
- 콘텐츠당 1개의 Note만 존재

### 저장 방식
- 자동 저장 (변경 시 자동 저장)
- 수동 저장 버튼 제공

### 수정/삭제
- 언제든 수정 가능
- 삭제 시 전체 Note 삭제

---

## 점수 연동

| 활동 | 점수 |
|------|------|
| Note 작성 (최초 저장) | +3 |

Note는 지속적으로 수정되는 특성상 최초 저장 시에만 점수 부여.

---

## 데이터 모델 (개념)

### Note

| 필드 | 타입 | 설명 |
|------|------|------|
| id | string | 고유 식별자 |
| userId | string | 작성자 ID |
| contentId | string | 콘텐츠 ID |
| visibility | enum | 공개 범위 |
| snapshot | object | 경험 스냅샷 |
| template | object | 구조화 템플릿 데이터 |
| createdAt | datetime | 생성일시 |
| updatedAt | datetime | 수정일시 |

### NoteSection (구획)

| 필드 | 타입 | 설명 |
|------|------|------|
| id | string | 고유 식별자 |
| noteId | string | Note ID |
| title | string | 구획명 |
| memo | string | 메모 내용 |
| isCompleted | boolean | 완료 여부 |
| order | number | 정렬 순서 |
| createdAt | datetime | 생성일시 |
| updatedAt | datetime | 수정일시 |

### Snapshot 구조

```json
{
  "when": "🌙 밤",
  "where": "🏠 집",
  "withWhom": "👤 혼자",
  "trigger": "💬 추천받음"
}
```

### Template 구조

```json
{
  "summary": "3줄 요약 내용...",
  "questions": "질문 관련 내용...",
  "moment": "강렬했던 순간 내용...",
  "quote": "인용구 내용...",
  "change": "변화 내용..."
}
```

---

## UI 구성

### Note 작성 화면

```
┌─────────────────────────────────────────┐
│ 📄 구획별 기록              [+ 구획 추가]│
├─────────────────────────────────────────┤
│ [✓] 1장. 어둠의 군주의 상승             │
│     메모 내용이 여기 표시됨...           │
├─────────────────────────────────────────┤
│ [✓] 2장. 기억 속으로                    │
│     메모 내용...                        │
├─────────────────────────────────────────┤
│ [ ] 3장. 슬러그혼의 기억                │
│     ┌───────────────────────────────┐   │
│     │ 메모 입력...                  │   │
│     └───────────────────────────────┘   │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 📷 경험 스냅샷                          │
├─────────────────────────────────────────┤
│ 언제   [아침][점심][저녁][밤✓][새벽] [__]│
│ 어디서 [집✓][카페][도서관][이동중] [____]│
│ 누구와 [혼자✓][친구][가족] [____________]│
│ 계기   [추천✓][검색][우연히] [__________]│
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 📝 구조화 템플릿                        │
├─────────────────────────────────────────┤
│ ▶ 3줄 요약                              │
│ ▶ 작품의 질문 vs 내 질문                │
│ ▼ 강렬했던 순간                         │
│   ┌───────────────────────────────────┐ │
│   │ 입력 영역...                      │ │
│   └───────────────────────────────────┘ │
│ ▶ 인용구                                │
│ ▶ 작품 전후 나의 변화                   │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│                            [노트 저장]  │
└─────────────────────────────────────────┘
```

---

## 연동 모듈

- **콘텐츠 매니저**: 콘텐츠 정보 참조, 진행률 동기화
- **점수 시스템**: 활동 점수 적립
- **콘텐츠 피드**: 공개 설정 시 피드 노출

---

*01_기록관_노트.md*