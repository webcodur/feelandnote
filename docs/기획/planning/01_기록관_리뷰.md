/# 02-01. Review

## 개요

Review는 콘텐츠에 대한 공개용 종합 평가 시스템이다. 별점과 감상평을 통해 작품에 대한 판단을 기록하고, 다른 유저들과 공유하며 소통하는 공간.

---

## 핵심 기능

### 별점

| 항목 | 스펙 |
|------|------|
| 범위 | 0.5 ~ 5.0 |
| 단위 | 0.5점 |
| 입력 방식 | 별 아이콘 클릭 (클릭 위치로 반점 판정) |
| 필수 여부 | 선택 |

### 감상평

| 항목 | 스펙 |
|------|------|
| 형식 | 자유 서술 (텍스트) |
| 글자 수 제한 | 최대 5,000자 |
| 필수 여부 | 선택 |
| 서식 지원 | 기본 텍스트 (마크다운 미지원) |

### 공개 범위

| 옵션 | 설명 |
|------|------|
| 전체 공개 | 모든 유저에게 노출 |
| 팔로워만 | 나를 팔로우한 유저에게만 노출 |
| 비공개 | 나만 볼 수 있음 |

---

## 작성 규칙

### 작성 조건
- 콘텐츠가 기록관에 추가되어 있어야 함
- 상태 무관 (감상중/완료/중단 모두 가능)
- 콘텐츠당 1개의 Review만 작성 가능

### 수정/삭제
- 언제든 수정 가능
- 수정 시 수정일시 기록
- 삭제 시 완전 삭제 (복구 불가)

---

## 피드 노출

### 내 기록 탭
- 내가 작성한 Review 표시
- 작성/수정 폼 제공

### 피드 탭
- 해당 콘텐츠에 대한 다른 유저들의 Review 목록
- 정렬: 최신순, 좋아요순
- 필터: 별점별

### 콘텐츠 피드 (메인)
- 팔로우한 유저의 새 Review 노출
- 확산 점수에 따른 추천 Review 노출

---

## 상호작용

### 좋아요
- 다른 유저의 Review에 좋아요 가능
- 좋아요 취소 가능
- 좋아요 수 공개 표시

### 댓글
- 다른 유저의 Review에 댓글 작성 가능
- 댓글에 대한 답글 지원 (1depth)
- 댓글 수정/삭제 가능

---

## 점수 연동

| 활동 | 점수 |
|------|------|
| Review 작성 | +5 |
| 좋아요 받음 | +2 (건당) |
| 댓글 작성 | +1 |

---

## 데이터 모델 (개념)

### Review

| 필드 | 타입 | 설명 |
|------|------|------|
| id | string | 고유 식별자 |
| userId | string | 작성자 ID |
| contentId | string | 콘텐츠 ID |
| rating | number | 별점 (0.5~5.0, nullable) |
| text | string | 감상평 (nullable) |
| visibility | enum | 공개 범위 |
| likeCount | number | 좋아요 수 |
| commentCount | number | 댓글 수 |
| createdAt | datetime | 작성일시 |
| updatedAt | datetime | 수정일시 |

### ReviewLike

| 필드 | 타입 | 설명 |
|------|------|------|
| id | string | 고유 식별자 |
| reviewId | string | 리뷰 ID |
| userId | string | 좋아요 누른 유저 ID |
| createdAt | datetime | 생성일시 |

### ReviewComment

| 필드 | 타입 | 설명 |
|------|------|------|
| id | string | 고유 식별자 |
| reviewId | string | 리뷰 ID |
| userId | string | 작성자 ID |
| parentId | string | 부모 댓글 ID (답글인 경우) |
| text | string | 댓글 내용 |
| createdAt | datetime | 작성일시 |
| updatedAt | datetime | 수정일시 |

---

## UI 구성

### Review 작성 폼

```
┌─────────────────────────────────────────┐
│ 별점                                    │
│ ★★★★☆  4.0                            │
├─────────────────────────────────────────┤
│ 감상평                                  │
│ ┌─────────────────────────────────────┐ │
│ │                                     │ │
│ │  (텍스트 입력 영역)                  │ │
│ │                                     │ │
│ └─────────────────────────────────────┘ │
├─────────────────────────────────────────┤
│ 공개 범위: [전체 공개 ▼]    [리뷰 저장] │
└─────────────────────────────────────────┘
```

### Review 피드 카드

```
┌─────────────────────────────────────────┐
│ [아바타] 닉네임              2일 전     │
│          ★★★★☆ 4.5                    │
├─────────────────────────────────────────┤
│ 감상평 텍스트 내용...                   │
├─────────────────────────────────────────┤
│ ❤️ 24    💬 3                          │
└─────────────────────────────────────────┘
```

---

## 연동 모듈

- **콘텐츠 매니저**: 콘텐츠 정보 참조
- **점수 시스템**: 활동 점수 적립
- **소셜 시스템**: 좋아요/댓글 상호작용
- **콘텐츠 피드**: 피드 노출

---

*01_기록관_리뷰.md*