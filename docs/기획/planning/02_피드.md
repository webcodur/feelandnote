# 08-01. 콘텐츠 피드

## 개요

콘텐츠 피드는 팔로우한 사람들의 문화생활이 흐르는 타임라인이다. 친구의 새 리뷰, 취향이 맞는 사람들의 발견을 만나는 공간. 사이드바의 "콘텐츠 피드" 메뉴로 진입.

---

## 피드 유형

### 메인 피드 (기본)
팔로우한 유저 + 추천 콘텐츠가 혼합된 피드.

| 노출 대상 | 우선순위 |
|-----------|----------|
| 팔로우 중인 유저의 활동 | 최우선 |
| 확산 점수 높은 추천 콘텐츠 | 차순위 |

### 팔로잉 전용 피드
팔로우한 유저의 활동만 표시.

---

## 피드 콘텐츠 종류

피드에 노출되는 활동 유형:

| 유형 | 노출 조건 | 표시 형태 |
|------|-----------|-----------|
| Review | 전체 공개 또는 팔로워 공개 | 별점 + 감상평 요약 |
| Note | 전체 공개 또는 팔로워 공개 | 스냅샷 + 구획 진행률 |
| 창작 | 전체 공개 (고정) | 유형 뱃지 + 내용 요약 |

---

## 정렬 로직

### 기본 정렬: 스마트 피드

```
최종 점수 = 기본 점수 × 시간 감쇠 × 관계 가중치
```

#### 기본 점수
- 작성자의 확산 점수 (= 영향력)

#### 시간 감쇠
| 경과 시간 | 감쇠율 |
|-----------|--------|
| 0 ~ 1시간 | ×1.5 |
| 1 ~ 6시간 | ×1.2 |
| 6 ~ 24시간 | ×1.0 |
| 1 ~ 3일 | ×0.8 |
| 3 ~ 7일 | ×0.5 |
| 7일+ | ×0.2 |

#### 관계 가중치
| 관계 | 가중치 |
|------|--------|
| 친구 (상호 팔로우) | ×3.0 |
| 팔로잉 | ×2.0 |
| 비팔로우 (추천) | ×1.0 |

### 대안 정렬: 최신순
- 순수 시간순 정렬
- 알고리즘 없이 최신 글부터 표시

---

## 필터 옵션

### 활동 유형 필터
- 전체 (기본)
- Review만
- Note만
- 창작만

### 카테고리 필터
- 전체 (기본)
- 도서
- 영화
- 드라마
- 애니메이션
- 게임
- 공연

### 기간 필터
- 전체 (기본)
- 오늘
- 이번 주
- 이번 달

---

## 피드 카드 UI

### Review 카드

```
┌─────────────────────────────────────────┐
│ [아바타] 닉네임              2시간 전   │
│          reviewed                       │
├─────────────────────────────────────────┤
│ [표지]  작품 제목                       │
│         저자/감독                       │
│         ★★★★☆ 4.5                    │
├─────────────────────────────────────────┤
│ 감상평 텍스트 미리보기...               │
│ (최대 3줄)                              │
├─────────────────────────────────────────┤
│ ❤️ 24    💬 3    🔗 공유               │
└─────────────────────────────────────────┘
```

### Note 카드

```
┌─────────────────────────────────────────┐
│ [아바타] 닉네임              1일 전     │
│          noted                          │
├─────────────────────────────────────────┤
│ [표지]  작품 제목                       │
│         저자/감독                       │
│         진행률 ████░░░░░░ 65%          │
├─────────────────────────────────────────┤
│ 🌙 밤 · 🏠 집 · 👤 혼자                 │
├─────────────────────────────────────────┤
│ ❤️ 8     💬 1    🔗 공유               │
└─────────────────────────────────────────┘
```

### 창작 카드

```
┌─────────────────────────────────────────┐
│ [아바타] 닉네임              3일 전     │
│          imagined                       │
├─────────────────────────────────────────┤
│ [표지]  작품 제목                       │
│         💭 What If · 다른 선택          │
├─────────────────────────────────────────┤
│ 상상 내용 미리보기...                   │
│ (최대 3줄)                              │
├─────────────────────────────────────────┤
│ ❤️ 18    💬 12   🔗 공유               │
└─────────────────────────────────────────┘
```

---

## 상호작용

### 좋아요
- 카드 하단 ❤️ 클릭
- 토글 방식 (좋아요/취소)

### 댓글
- 카드 하단 💬 클릭 시 댓글 영역 펼침
- 댓글 작성/조회 가능

### 공유
- 카드 하단 🔗 클릭
- 링크 복사 또는 SNS 공유

### 상세 보기
- 카드 클릭 시 해당 콘텐츠 상세 페이지로 이동

---

## 새 글 알림

### 실시간 알림
- 피드 상단에 "새 글 N개" 버튼 표시
- 클릭 시 새 글 로드

### 새로고침
- 당겨서 새로고침 (모바일)
- 새로고침 버튼 (웹)

---

## 무한 스크롤

### 로딩 방식
- 초기: 최근 20개 로드
- 스크롤 시: 추가 20개씩 로드
- 끝 도달 시: "더 이상 글이 없습니다" 표시

### 성능 최적화
- 가상 스크롤 적용
- 이미지 지연 로딩

---

## 빈 상태

### 팔로우 없을 때

```
┌─────────────────────────────────────────┐
│                                         │
│            👥                           │
│                                         │
│    아직 팔로우한 유저가 없습니다        │
│                                         │
│    취향이 맞는 사람들을 찾아보세요      │
│                                         │
│         [유저 탐색하기]                 │
│                                         │
└─────────────────────────────────────────┘
```

### 활동 없을 때

```
┌─────────────────────────────────────────┐
│                                         │
│            📝                           │
│                                         │
│    팔로우한 유저의 새 활동이 없습니다   │
│                                         │
│    추천 콘텐츠를 확인해보세요           │
│                                         │
│         [추천 보기]                     │
│                                         │
└─────────────────────────────────────────┘
```

---

## 데이터 모델 (개념)


| 필드 | 타입 | 설명 |
|------|------|------|
| userId | string | 유저 ID |
| feedItems | array | 캐시된 피드 아이템 목록 |
| lastUpdated | datetime | 마지막 갱신 시간 |

---

## 연동 모듈

- **소셜 시스템**: 팔로우 관계 → 피드 구성, 확산 점수 → 노출 순위
- **Review/Note/창작**: 새 글 작성 시 피드 반영
- **콘텐츠 매니저**: 콘텐츠 정보 표시
- **알림 시스템**: 좋아요/댓글 알림

---

*02_콘텐츠_피드.md*